import { Canvas, Story, Meta, ArgsTable, Source, Description } from '@storybook/addon-docs/blocks';

import Input from './../input';

<Meta
  title="Example/Input"
  component={Input}
  argTypes={{
    size: { control: { type: 'radio', options: ['small', 'middle', 'large'] } },
    onChange: { action: 'onChange' },
  }}
/>

export const Template = (args) => <Input {...args} />;

# Input

<Description>To input text.</Description>

<Canvas>
  <Story
    name="Show Length Count"
    args={{
      style: { width: 200 },
      showLengthCount: true,
      maxLength: 10,
    }}
  >
    {(args) => <Input {...args} />}
  </Story>
</Canvas>

## Props

<ArgsTable of={Input} />

## Input.TextArea Props

<ArgsTable of={Input.TextArea} />

## Stories

### Textarea

<Canvas>
  <Story
    name="Textarea"
    args={{
      style: { width: 400 },
      showLengthCount: true,
      maxLength: 10,
    }}
  >
    {(args) => <Input.TextArea {...args} />}
  </Story>
</Canvas>

### Disallow fire `onSearch` on clear icon clicked

The Input.Search(antd@3.x) component would fire `onSearch` when `allowClear` is `true`, as per [this issue](https://github.com/ant-design/ant-design/issues/18729). But we might not need it in some cases(edge cases), and here is the a workaround for you: sets `allowSearchOnClear` to `false`, that's it.

<Canvas>
  <Story
    name="Search - Reduce Search Events"
    args={{
      style: { width: 400 },
      allowClear: true,
      allowSearchOnClear: false,
      defaultValue: 'Hover me and click the clear icon on the right',
    }}
    argTypes={{
      onSearch: { action: 'onSearch' },
    }}
  >
    {(args) => <Input.Search {...args} />}
  </Story>
</Canvas>
