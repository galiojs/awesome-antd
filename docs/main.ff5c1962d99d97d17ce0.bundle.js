(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1015:function(module,exports){},1030:function(module,exports){},1125:function(module,exports){},1196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(556)},1749:function(module,exports,__webpack_require__){"use strict";__webpack_require__(7),__webpack_require__(71),__webpack_require__(58),__webpack_require__(1750),__webpack_require__(1751),__webpack_require__(9),__webpack_require__(59);var _clientApi=__webpack_require__(78),_clientLogger=__webpack_require__(49),_configFilename=__webpack_require__(1752);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1752:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={options:{storySort:{order:["Intro","Internationalization"]}},actions:{argTypesRegex:"^on[A-Z].*"}}},1753:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(556).configure)([__webpack_require__(1754),__webpack_require__(1995)],module,!1)}).call(this,__webpack_require__(97)(module))},1754:function(module,exports,__webpack_require__){var map={"./stories/Internationalization.stories.mdx":1755,"./stories/Introduction.stories.mdx":1756,"./stories/Table.stories.mdx":1999};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1754},1755:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(7),__webpack_require__(18),__webpack_require__(6),__webpack_require__(9),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(73);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Internationalization",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h1",{id:"internationalization"},"Internationalization"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"The default language is English(as same as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("a",_extends({parentName:"p"},{href:"https://3x.ant.design/docs/react/i18n",target:"_blank",rel:"nofollow noopener noreferrer"}),"Ant Design: Internationalization"),")."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"use-zh-cn"},"Use ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"h2"},"zh-CN")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"We only covered ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"zh-CN")," locales for now. So, if you want to use Chinese(Simplified) as the default language, you can import the locale code like so"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("details",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("summary",null,"简体中文"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h1",{id:"国际化"},"国际化"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"默认语言是英语，和 ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("a",_extends({parentName:"p"},{href:"https://3x.ant.design/docs/react/i18n",target:"_blank",rel:"nofollow noopener noreferrer"}),"Ant Design: Internationalization")," 一样。"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"使用-zh-cn"},"使用 ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"h2"},"zh-CN")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"我们现在只提供了中文的文案。所以，如果你想使用简体中文作为默认语言，你可以这么做：")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import { ConfigProvider } from 'antd';\nimport zhCN from '@galiojs/awesome-antd/es/locale/zh_CN';\n\nconst App = () => (\n  <ConfigProvider locale={zhCN}>\n    <Root />\n  </ConfigProvider>\n);\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",{parentName:"blockquote"},"Notes")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",{parentName:"blockquote"},"Because we imported antd ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"zh-CN")," locales internally, and merged into our ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"zh-CN")," locales, so you no longer import antd ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"zh-CN")," locales.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("details",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("summary",null,"简体中文"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",{parentName:"blockquote"},"备注")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("blockquote",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",{parentName:"blockquote"},"因为我们再内部已经引入了 antd ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"zh-CN")," 的文案，并且和我们的 ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"zh-CN")," 文案做了合并，所以你不再需要自行引入 antd ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"zh-CN")," 文案了。"))))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Internationalization",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1756:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"version",(function(){return version})),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(7),__webpack_require__(18),__webpack_require__(6),__webpack_require__(9),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(73),_package_json__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(881);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var version=_package_json__WEBPACK_IMPORTED_MODULE_7__.version,layoutProps={version:version};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Intro",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h1",{id:"get-started"},"Get started"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"Awesome antd provides you improved fast reusable react components wrapped from antd components."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"current-version"},"Current Version"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Canvas,{withSource:"none",mdxSource:"Version:%0A%7Bversion%7D",mdxType:"Canvas"},"Version: ",version),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"install"},"Install"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"npm install --save @galiojs/awesome-antd")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Intro",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1867:function(module,exports,__webpack_require__){var map={"./af":712,"./af.js":712,"./ar":713,"./ar-dz":714,"./ar-dz.js":714,"./ar-kw":715,"./ar-kw.js":715,"./ar-ly":716,"./ar-ly.js":716,"./ar-ma":717,"./ar-ma.js":717,"./ar-sa":718,"./ar-sa.js":718,"./ar-tn":719,"./ar-tn.js":719,"./ar.js":713,"./az":720,"./az.js":720,"./be":721,"./be.js":721,"./bg":722,"./bg.js":722,"./bm":723,"./bm.js":723,"./bn":724,"./bn.js":724,"./bo":725,"./bo.js":725,"./br":726,"./br.js":726,"./bs":727,"./bs.js":727,"./ca":728,"./ca.js":728,"./cs":729,"./cs.js":729,"./cv":730,"./cv.js":730,"./cy":731,"./cy.js":731,"./da":732,"./da.js":732,"./de":733,"./de-at":734,"./de-at.js":734,"./de-ch":735,"./de-ch.js":735,"./de.js":733,"./dv":736,"./dv.js":736,"./el":737,"./el.js":737,"./en-au":738,"./en-au.js":738,"./en-ca":739,"./en-ca.js":739,"./en-gb":740,"./en-gb.js":740,"./en-ie":741,"./en-ie.js":741,"./en-il":742,"./en-il.js":742,"./en-in":743,"./en-in.js":743,"./en-nz":744,"./en-nz.js":744,"./en-sg":745,"./en-sg.js":745,"./eo":746,"./eo.js":746,"./es":747,"./es-do":748,"./es-do.js":748,"./es-us":749,"./es-us.js":749,"./es.js":747,"./et":750,"./et.js":750,"./eu":751,"./eu.js":751,"./fa":752,"./fa.js":752,"./fi":753,"./fi.js":753,"./fil":754,"./fil.js":754,"./fo":755,"./fo.js":755,"./fr":756,"./fr-ca":757,"./fr-ca.js":757,"./fr-ch":758,"./fr-ch.js":758,"./fr.js":756,"./fy":759,"./fy.js":759,"./ga":760,"./ga.js":760,"./gd":761,"./gd.js":761,"./gl":762,"./gl.js":762,"./gom-deva":763,"./gom-deva.js":763,"./gom-latn":764,"./gom-latn.js":764,"./gu":765,"./gu.js":765,"./he":766,"./he.js":766,"./hi":767,"./hi.js":767,"./hr":768,"./hr.js":768,"./hu":769,"./hu.js":769,"./hy-am":770,"./hy-am.js":770,"./id":771,"./id.js":771,"./is":772,"./is.js":772,"./it":773,"./it-ch":774,"./it-ch.js":774,"./it.js":773,"./ja":775,"./ja.js":775,"./jv":776,"./jv.js":776,"./ka":777,"./ka.js":777,"./kk":778,"./kk.js":778,"./km":779,"./km.js":779,"./kn":780,"./kn.js":780,"./ko":781,"./ko.js":781,"./ku":782,"./ku.js":782,"./ky":783,"./ky.js":783,"./lb":784,"./lb.js":784,"./lo":785,"./lo.js":785,"./lt":786,"./lt.js":786,"./lv":787,"./lv.js":787,"./me":788,"./me.js":788,"./mi":789,"./mi.js":789,"./mk":790,"./mk.js":790,"./ml":791,"./ml.js":791,"./mn":792,"./mn.js":792,"./mr":793,"./mr.js":793,"./ms":794,"./ms-my":795,"./ms-my.js":795,"./ms.js":794,"./mt":796,"./mt.js":796,"./my":797,"./my.js":797,"./nb":798,"./nb.js":798,"./ne":799,"./ne.js":799,"./nl":800,"./nl-be":801,"./nl-be.js":801,"./nl.js":800,"./nn":802,"./nn.js":802,"./oc-lnc":803,"./oc-lnc.js":803,"./pa-in":804,"./pa-in.js":804,"./pl":805,"./pl.js":805,"./pt":806,"./pt-br":807,"./pt-br.js":807,"./pt.js":806,"./ro":808,"./ro.js":808,"./ru":809,"./ru.js":809,"./sd":810,"./sd.js":810,"./se":811,"./se.js":811,"./si":812,"./si.js":812,"./sk":813,"./sk.js":813,"./sl":814,"./sl.js":814,"./sq":815,"./sq.js":815,"./sr":816,"./sr-cyrl":817,"./sr-cyrl.js":817,"./sr.js":816,"./ss":818,"./ss.js":818,"./sv":819,"./sv.js":819,"./sw":820,"./sw.js":820,"./ta":821,"./ta.js":821,"./te":822,"./te.js":822,"./tet":823,"./tet.js":823,"./tg":824,"./tg.js":824,"./th":825,"./th.js":825,"./tk":826,"./tk.js":826,"./tl-ph":827,"./tl-ph.js":827,"./tlh":828,"./tlh.js":828,"./tr":829,"./tr.js":829,"./tzl":830,"./tzl.js":830,"./tzm":831,"./tzm-latn":832,"./tzm-latn.js":832,"./tzm.js":831,"./ug-cn":833,"./ug-cn.js":833,"./uk":834,"./uk.js":834,"./ur":835,"./ur.js":835,"./uz":836,"./uz-latn":837,"./uz-latn.js":837,"./uz.js":836,"./vi":838,"./vi.js":838,"./x-pseudo":839,"./x-pseudo.js":839,"./yo":840,"./yo.js":840,"./zh-cn":841,"./zh-cn.js":841,"./zh-hk":842,"./zh-hk.js":842,"./zh-mo":843,"./zh-mo.js":843,"./zh-tw":844,"./zh-tw.js":844};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1867},1995:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1995},1999:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BaseEditableTable",(function(){return BaseEditableTable})),__webpack_require__.d(__webpack_exports__,"Template",(function(){return Table_stories_Template})),__webpack_require__.d(__webpack_exports__,"familyTreeTable",(function(){return familyTreeTable}));__webpack_require__(7),__webpack_require__(18),__webpack_require__(6),__webpack_require__(9);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),esm=__webpack_require__(2),blocks=__webpack_require__(73),toConsumableArray=(__webpack_require__(697),__webpack_require__(427),__webpack_require__(191)),slicedToArray=__webpack_require__(323),input=__webpack_require__(2013),icon=__webpack_require__(61),input_number=__webpack_require__(2014),es_select=__webpack_require__(2012),objectWithoutProperties=(__webpack_require__(1757),__webpack_require__(21),__webpack_require__(25),__webpack_require__(189)),classCallCheck=__webpack_require__(316),createClass=__webpack_require__(317),inherits=__webpack_require__(322),createSuper=__webpack_require__(321),table=__webpack_require__(478),table_default=__webpack_require__.n(table),lib_form=__webpack_require__(318),form_default=__webpack_require__.n(lib_form),LocaleReceiver=__webpack_require__(167),LocaleReceiver_default=__webpack_require__.n(LocaleReceiver),editable_cell_EditableCell=function(_React$PureComponent){Object(inherits.a)(EditableCell,_React$PureComponent);var _super=Object(createSuper.a)(EditableCell);function EditableCell(){var _this;Object(classCallCheck.a)(this,EditableCell);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args)))._renderCell=function(form){var _this$props=_this.props,editing=_this$props.editing,decorateOptions=_this$props.decorateOptions,editingCtrl=_this$props.editingCtrl,id=_this$props.id,children=_this$props.children,restProps=Object(objectWithoutProperties.a)(_this$props,["editing","decorateOptions","editingCtrl","id","children"]);return react_default.a.createElement("td",restProps,editing?react_default.a.createElement(form_default.a.Item,{style:{margin:0}},null==form?void 0:form.getFieldDecorator(id,decorateOptions)(editingCtrl)):children)},_this}return Object(createClass.a)(EditableCell,[{key:"render",value:function render(){return react_default.a.createElement(FormContext.Consumer,null,this._renderCell)}}]),EditableCell}(react_default.a.PureComponent),editable_cell=editable_cell_EditableCell;try{editable_cell_EditableCell.displayName="EditableCell",editable_cell_EditableCell.__docgenInfo={description:"",displayName:"EditableCell",props:{editing:{defaultValue:null,description:"",name:"editing",required:!0,type:{name:"boolean"}},decorateOptions:{defaultValue:null,description:"",name:"decorateOptions",required:!1,type:{name:"GetFieldDecoratorOptions"}},editingCtrl:{defaultValue:null,description:"",name:"editingCtrl",required:!0,type:{name:"ReactElement<any, string | ((props: any) => ReactElement<any, string | ... | (new (props: any) => Component<any, any, any>)> | null) | (new (props: any) => Component<any, any, any>)>"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/editable-cell.tsx#EditableCell"]={docgenInfo:editable_cell_EditableCell.__docgenInfo,name:"EditableCell",path:"src/table/editable-cell.tsx#EditableCell"})}catch(__react_docgen_typescript_loader_error){}var esm_extends=__webpack_require__(884),lib_button=__webpack_require__(473),button_default=__webpack_require__.n(lib_button),button_AweButton=function AweButton(_ref){var style=_ref.style,type=_ref.type,_ref$compact=_ref.compact,compact=void 0===_ref$compact?"link"===type:_ref$compact,props=Object(objectWithoutProperties.a)(_ref,["style","type","compact"]);return react_default.a.createElement(button_default.a,Object(esm_extends.a)({style:Object.assign({height:compact?"auto":void 0,padding:compact?"0":void 0},style),type:type},props))};button_AweButton.displayName="AweButton";var src_button=button_AweButton;try{button.displayName="button",button.__docgenInfo={description:"",displayName:"button",props:{compact:{defaultValue:{value:"type === 'link'"},description:"",name:"compact",required:!1,type:{name:"boolean"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLElement, MouseEvent>) => void)"}},htmlType:{defaultValue:null,description:"",name:"htmlType",required:!1,type:{name:'"submit" | "button" | "reset"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/button/index.tsx#button"]={docgenInfo:button.__docgenInfo,name:"button",path:"src/button/index.tsx#button"})}catch(__react_docgen_typescript_loader_error){}var locale_default={locale:"en",EditableTable:{actionsColumnTitle:"Actions",saveBtn:"Save",cancelBtn:"Cancel",editBtn:"Edit",deleteBtn:"Delete"}},table_AweEditableTable=function(_React$PureComponent){Object(inherits.a)(AweEditableTable,_React$PureComponent);var _super=Object(createSuper.a)(AweEditableTable);function AweEditableTable(){var _this;Object(classCallCheck.a)(this,AweEditableTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={},_this._getRowKey=function(record,rowIdx){var rowKey=_this.props.rowKey;return"string"==typeof rowKey?record[rowKey]:rowKey(record,rowIdx)},_this._hasEditingRow=function(){return _this.props.editingRowKey===AweEditableTable.UNSET_EDITING_ROW_KEY},_this._canDelete=function(record,idx){return _this.props.canDelete(record,idx,_this._hasEditingRow())},_this._isEditing=function(record,rowIdx){var editingRowKey=_this.props.editingRowKey;return _this._getRowKey(record,rowIdx)===editingRowKey},_this._saveHandler=function(record,idx){var _this$props=_this.props,form=_this$props.form,onSave=_this$props.onSave;form.validateFields((function(errorMap,valueMap){errorMap||onSave(_this._getRowKey(record,idx),_this._getUpdatedData(record,idx,valueMap))}))},_this._getUpdatedData=function(currentRecord,currentRowIdx,valueMap){var dataSource=_this.props.dataSource,rowKey=_this._getRowKey(currentRecord,currentRowIdx),updateIdx=dataSource.findIndex((function(record,rowIdx){return rowKey===_this._getRowKey(record,rowIdx)}));if(updateIdx<0)return dataSource;var data=Object(toConsumableArray.a)(dataSource);return null===valueMap?data.splice(updateIdx,1):data.splice(updateIdx,1,Object.assign({},currentRecord,valueMap)),data},_this._cancelHandler=function(){_this.props.onCancel(AweEditableTable.UNSET_EDITING_ROW_KEY)},_this._editHandler=function(record,idx){_this.props.onEdit(_this._getRowKey(record,idx))},_this._deleteHandler=function(record,idx){_this.props.onDelete(_this._getRowKey(record,idx),_this._getUpdatedData(record,idx,null))},_this}return Object(createClass.a)(AweEditableTable,[{key:"render",value:function render(){var _this2=this,_this$props2=this.props,form=_this$props2.form,columns=_this$props2.columns,dataSource=_this$props2.dataSource,editingRowKey=_this$props2.editingRowKey,pagination=_this$props2.pagination,clmns=columns.map((function(_ref){var editable=_ref.editable,editingId=_ref.editingId,editingCtrl=_ref.editingCtrl,decorateOptions=_ref.decorateOptions,clmn=Object(objectWithoutProperties.a)(_ref,["editable","editingId","editingCtrl","decorateOptions"]);return editable?Object.assign({},clmn,{onCell:function onCell(record,rowIdx){return{editing:_this2._isEditing(record,rowIdx),id:editingId||clmn.key||clmn.dataIndex,editingCtrl:editingCtrl,decorateOptions:Object.assign({initialValue:record[clmn.key||clmn.dataIndex]},decorateOptions)}}}):clmn}));return react_default.a.createElement(FormContext.Provider,{value:form},react_default.a.createElement(LocaleReceiver_default.a,{componentName:"EditableTable",defaultLocale:locale_default.EditableTable},(function(locale,localeCode){var defaultActionsColumn=table_getDefaultActionsColumn({editingRowKey:editingRowKey,canDelete:_this2._canDelete,isEditing:_this2._isEditing,onSave:_this2._saveHandler,onCancel:_this2._cancelHandler,onEdit:_this2._editHandler,onDelete:_this2._deleteHandler},Object.assign({},locale,{localeCode:localeCode}));return react_default.a.createElement(table_default.a,{components:{body:{cell:editable_cell}},columns:[].concat(Object(toConsumableArray.a)(clmns),[defaultActionsColumn]),dataSource:dataSource,pagination:pagination})})))}}]),AweEditableTable}(react_default.a.PureComponent);table_AweEditableTable.UNSET_EDITING_ROW_KEY=null,table_AweEditableTable.defaultProps={rowKey:"key",editingRowKey:table_AweEditableTable.UNSET_EDITING_ROW_KEY,pagination:!1,canDelete:function canDelete(_record,_idx,hasEditingRow){return hasEditingRow},onSave:function onSave(){},onEdit:function onEdit(){},onCancel:function onCancel(){},onDelete:function onDelete(){}};var table_createEditableTable=function createEditableTable(options){return form_default.a.create(options)(table_AweEditableTable)},FormContext=(table_default.a,react_default.a.createContext(void 0)),table_getDefaultActionsColumn=function getDefaultActionsColumn(_ref2,locale){var editingRowKey=_ref2.editingRowKey,canDelete=_ref2.canDelete,isEditing=_ref2.isEditing,onSave=_ref2.onSave,onCancel=_ref2.onCancel,onEdit=_ref2.onEdit,onDelete=_ref2.onDelete;return{title:locale.actionsColumnTitle,key:"__awe-table-default-actions-column",width:"zh_CN"===locale.localeCode?100:120,render:function render(__,record,idx){return isEditing(record,idx)?react_default.a.createElement("span",null,react_default.a.createElement(src_button,{"aria-label":"button: save",style:{marginRight:8},type:"link",onClick:function onClick(){onSave(record,idx)}},locale.saveBtn),react_default.a.createElement(src_button,{"aria-label":"button: cancel",type:"link",onClick:function onClick(){onCancel()}},locale.cancelBtn)):react_default.a.createElement("span",null,react_default.a.createElement(src_button,{"aria-label":"button: edit",style:{marginRight:8},type:"link",disabled:editingRowKey!==table_AweEditableTable.UNSET_EDITING_ROW_KEY,onClick:function onClick(){onEdit(record,idx)}},locale.editBtn),react_default.a.createElement(src_button,{"aria-label":"button: delete",type:"link",disabled:!canDelete(record,idx),onClick:function onClick(){onDelete(record,idx)}},locale.deleteBtn))}}};try{table_AweEditableTable.displayName="AweEditableTable",table_AweEditableTable.__docgenInfo={description:"",displayName:"AweEditableTable",props:{form:{defaultValue:null,description:"",name:"form",required:!0,type:{name:"WrappedFormUtils<V>"}},rowKey:{defaultValue:{value:"key"},description:"",name:"rowKey",required:!1,type:{name:"string | ((record: T, index: number) => string)"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"AweColumnProps<T>[]"}},dataSource:{defaultValue:null,description:"",name:"dataSource",required:!0,type:{name:"T[]"}},editingRowKey:{defaultValue:{value:"AweEditableTable.UNSET_EDITING_ROW_KEY"},description:"",name:"editingRowKey",required:!1,type:{name:"string | null"}},canDelete:{defaultValue:{value:"(_record, _idx, hasEditingRow) => hasEditingRow"},description:"",name:"canDelete",required:!1,type:{name:"(record: T, idx: number, hasEditingRow: boolean) => boolean"}},onSave:{defaultValue:{value:"() => {}"},description:"",name:"onSave",required:!1,type:{name:"(editingRowKey: string, data: T[]) => void"}},onEdit:{defaultValue:{value:"() => {}"},description:"",name:"onEdit",required:!1,type:{name:"(rowKey: string) => void"}},onCancel:{defaultValue:{value:"() => {}"},description:"",name:"onCancel",required:!1,type:{name:"(unsetRowKey: null) => void"}},onDelete:{defaultValue:{value:"() => {}"},description:"",name:"onDelete",required:!1,type:{name:"(rowKey: string, data: T[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/index.tsx#AweEditableTable"]={docgenInfo:table_AweEditableTable.__docgenInfo,name:"AweEditableTable",path:"src/table/index.tsx#AweEditableTable"})}catch(__react_docgen_typescript_loader_error){}try{table_createEditableTable.displayName="createEditableTable",table_createEditableTable.__docgenInfo={description:"",displayName:"createEditableTable",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/index.tsx#createEditableTable"]={docgenInfo:table_createEditableTable.__docgenInfo,name:"createEditableTable",path:"src/table/index.tsx#createEditableTable"})}catch(__react_docgen_typescript_loader_error){}try{StoreTable.displayName="StoreTable",StoreTable.__docgenInfo={description:"",displayName:"StoreTable",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/index.tsx#StoreTable"]={docgenInfo:StoreTable.__docgenInfo,name:"StoreTable",path:"src/table/index.tsx#StoreTable"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(14);var generateGetRowSpan=function generateGetRowSpan(data){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$mergeProp=_ref.mergeProp,mergeProp=void 0===_ref$mergeProp?"mergeRowsKey":_ref$mergeProp;return function(record,idx){var _data;if((null===(_data=data[idx-1])||void 0===_data?void 0:_data[mergeProp])===record[mergeProp])return 0;for(var span=1,dataSlice=data.slice(idx+1),index=0;index<dataSlice.length;index++){if(dataSlice[index][mergeProp]!==record[mergeProp])break;span++}return span}};try{generateGetRowSpan.displayName="generateGetRowSpan",generateGetRowSpan.__docgenInfo={description:"To generate a `getRowSpan` function.",displayName:"generateGetRowSpan",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/table/utils.tsx#generateGetRowSpan"]={docgenInfo:generateGetRowSpan.__docgenInfo,name:"generateGetRowSpan",path:"src/table/utils.tsx#generateGetRowSpan"})}catch(__react_docgen_typescript_loader_error){}var generateRowKey=function generateRowKey(){return"row-"+Math.random()},getInitialRowData=function getInitialRowData(mergeRowsKey){var key=generateRowKey();return{key:key,mergeRowsKey:mergeRowsKey||key,name:void 0,age:void 0,child:void 0}},EditableTable_AweEditableTable=table_createEditableTable(),EditableTable_getColumns=function getColumns(_ref){var addRow=_ref.addRow,getRowSpan=_ref.getRowSpan;return[{title:"Name",dataIndex:"name",editable:!0,editingCtrl:react_default.a.createElement(input.a,{"aria-label":"field: name",style:{width:200}}),decorateOptions:{rules:[{required:!0,message:"name is required"}]},render:function render(name,record,idx){var children=name;return 0===idx&&(children=react_default.a.createElement("span",null,react_default.a.createElement(icon.a,{style:{marginRight:8},type:"plus-circle",onClick:function onClick(){addRow(getInitialRowData())}}),name)),{children:children,props:{rowSpan:getRowSpan(record,idx)}}}},{title:"Age",dataIndex:"age",editable:!0,editingCtrl:react_default.a.createElement(input_number.a,null),decorateOptions:{rules:[{required:!0,message:"age is required"}]},render:function render(age,record,idx){return{children:age,props:{rowSpan:getRowSpan(record,idx)}}}},{title:"Gender",dataIndex:"gender",editable:!0,editingCtrl:react_default.a.createElement(es_select.a,{style:{minWidth:80}},react_default.a.createElement(es_select.a.Option,{value:"F"},"Female"),react_default.a.createElement(es_select.a.Option,{value:"M"},"Male"),react_default.a.createElement(es_select.a.Option,{value:"UNKNOW"},"Unknow")),render:function render(gender,record,idx){return{children:gender,props:{rowSpan:getRowSpan(record,idx)}}}},{title:"Children",dataIndex:"child",editable:!0,editingCtrl:react_default.a.createElement(input.a,{style:{width:200},placeholder:"Child name"}),render:function render(child,record,idx){return getRowSpan(record,idx)>=1&&child?react_default.a.createElement("span",null,react_default.a.createElement(icon.a,{style:{marginRight:8},type:"plus-circle",onClick:function onClick(){addRow(Object.assign({},record,{key:generateRowKey(),mergeRowsKey:record.mergeRowsKey,child:void 0}),idx)}}),child):child}}]},EditableTable_EditableTable=function EditableTable(_ref2){var _ref2$defaultData=_ref2.defaultData,defaultData=void 0===_ref2$defaultData?[getInitialRowData()]:_ref2$defaultData,defaultEditingRowKey=_ref2.defaultEditingRowKey,_useState=Object(react.useState)(defaultData),_useState2=Object(slicedToArray.a)(_useState,2),data=_useState2[0],setData=_useState2[1],_useState3=Object(react.useState)(void 0===defaultEditingRowKey?defaultData[0].key:defaultEditingRowKey),_useState4=Object(slicedToArray.a)(_useState3,2),editingRowKey=_useState4[0],setEditingRowKey=_useState4[1],_useState5=Object(react.useState)(!1),_useState6=Object(slicedToArray.a)(_useState5,2),deleteByCancel=_useState6[0],setDeleteByCancel=_useState6[1],getRowSpan=Object(react.useCallback)(generateGetRowSpan(data),[data]);return react_default.a.createElement(EditableTable_AweEditableTable,{columns:EditableTable_getColumns({addRow:function addRow(rowData){var insertIdx=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setData((function(prevData){var nextData=Object(toConsumableArray.a)(prevData);return nextData.splice(insertIdx,0,rowData),nextData})),setEditingRowKey(rowData.key),setDeleteByCancel(!0)},getRowSpan:getRowSpan}),dataSource:data,editingRowKey:editingRowKey,onEdit:function onEdit(rowKey){setEditingRowKey(rowKey)},onCancel:function onCancel(){deleteByCancel&&setData((function(prevData){var nextData=Object(toConsumableArray.a)(prevData),idx=nextData.findIndex((function(record){return record.key===editingRowKey}));return idx>-1&&nextData.splice(idx,1),nextData})),setEditingRowKey(null)},onSave:function onSave(__,data){setData(data),setEditingRowKey(null),setDeleteByCancel(!1)},onDelete:function onDelete(rowKey,data){setData(data),rowKey===editingRowKey&&setEditingRowKey(null)}})};EditableTable_EditableTable.displayName="EditableTable";var stories_EditableTable=EditableTable_EditableTable;try{EditableTable_EditableTable.displayName="EditableTable",EditableTable_EditableTable.__docgenInfo={description:"",displayName:"EditableTable",props:{defaultData:{defaultValue:{value:"[getInitialRowData()]"},description:"",name:"defaultData",required:!1,type:{name:"Record[]"}},defaultEditingRowKey:{defaultValue:null,description:"",name:"defaultEditingRowKey",required:!1,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/EditableTable/index.tsx#EditableTable"]={docgenInfo:EditableTable_EditableTable.__docgenInfo,name:"EditableTable",path:"src/stories/EditableTable/index.tsx#EditableTable"})}catch(__react_docgen_typescript_loader_error){}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var BaseEditableTable=table_createEditableTable(),Table_stories_Template=function Template(args){return Object(esm.mdx)(stories_EditableTable,_extends({},args,{mdxType:"EditableTable"}))};Table_stories_Template.displayName="Template";var layoutProps={BaseEditableTable:BaseEditableTable,Template:Table_stories_Template};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(esm.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.mdx)(blocks.Meta,{title:"Example/EditableTable",component:stories_EditableTable,mdxType:"Meta"}),Object(esm.mdx)("h1",{id:"editabletable"},"EditableTable"),Object(esm.mdx)("p",null,"A table with predefined family members data."),Object(esm.mdx)(blocks.Canvas,{mdxSource:"import React, { useState, useCallback } from 'react';\nimport { Input, InputNumber, Icon, Select } from 'antd';\nimport 'antd/dist/antd.min.css';\n\nimport { createEditableTable, AweColumnProps } from './../../table';\nimport { generateGetRowSpan } from './../../table/utils';\n\ninterface Record {\n  key: string;\n  mergeRowsKey?: string;\n  name?: string;\n  age?: number;\n  child?: string;\n}\n\ninterface GetColumnsOpts {\n  addRow(rowData: Record, insertIdx?: number): void;\n  getRowSpan(record: Record, idx: number): number;\n}\n\nexport interface EditableTableProps {\n  defaultData?: Record[];\n  defaultEditingRowKey?: string | null;\n}\n\nconst generateRowKey = () => 'row-' + Math.random();\n\nconst getInitialRowData = (mergeRowsKey?: string): Record => {\n  const key = generateRowKey();\n\n  return {\n    key,\n    mergeRowsKey: mergeRowsKey || key,\n    name: undefined,\n    age: undefined,\n    child: undefined,\n  };\n};\n\nexport const NAME_REQUIRED_ERROR_MESSAGE = 'name is required';\nexport const AGE_REQUIRED_ERROR_MESSAGE = 'age is required';\n\nconst AweEditableTable = createEditableTable<Record, Omit<Record, 'key'>>();\n\nconst getColumns = ({ addRow, getRowSpan }: GetColumnsOpts): AweColumnProps<Record>[] => [\n  {\n    title: 'Name',\n    dataIndex: 'name',\n    editable: true,\n    editingCtrl: <Input aria-label=\"field: name\" style={{ width: 200 }} />,\n    decorateOptions: {\n      rules: [{ required: true, message: NAME_REQUIRED_ERROR_MESSAGE }],\n    },\n    render(name, record, idx) {\n      let children = name;\n      if (idx === 0) {\n        children = (\n          <span>\n            <Icon\n              style={{ marginRight: 8 }}\n              type=\"plus-circle\"\n              onClick={() => {\n                addRow(getInitialRowData());\n              }}\n            />\n            {name}\n          </span>\n        );\n      }\n\n      return {\n        children,\n        props: {\n          rowSpan: getRowSpan(record, idx),\n        },\n      };\n    },\n  },\n  {\n    title: 'Age',\n    dataIndex: 'age',\n    editable: true,\n    editingCtrl: <InputNumber />,\n    decorateOptions: {\n      rules: [{ required: true, message: AGE_REQUIRED_ERROR_MESSAGE }],\n    },\n    render(age, record, idx) {\n      return {\n        children: age,\n        props: {\n          rowSpan: getRowSpan(record, idx),\n        },\n      };\n    },\n  },\n  {\n    title: 'Gender',\n    dataIndex: 'gender',\n    editable: true,\n    editingCtrl: (\n      <Select style={{ minWidth: 80 }}>\n        <Select.Option value=\"F\">Female</Select.Option>\n        <Select.Option value=\"M\">Male</Select.Option>\n        <Select.Option value=\"UNKNOW\">Unknow</Select.Option>\n      </Select>\n    ),\n    render(gender, record, idx) {\n      return {\n        children: gender,\n        props: {\n          rowSpan: getRowSpan(record, idx),\n        },\n      };\n    },\n  },\n  {\n    title: 'Children',\n    dataIndex: 'child',\n    editable: true,\n    editingCtrl: <Input style={{ width: 200 }} placeholder=\"Child name\" />,\n    render(child, record, idx) {\n      const rowSpan = getRowSpan(record, idx);\n      if (rowSpan >= 1 && child) {\n        return (\n          <span>\n            <Icon\n              style={{ marginRight: 8 }}\n              type=\"plus-circle\"\n              onClick={() => {\n                addRow(\n                  {\n                    ...record,\n                    key: generateRowKey(),\n                    mergeRowsKey: record.mergeRowsKey,\n                    child: undefined,\n                  },\n                  idx\n                );\n              }}\n            />\n            {child}\n          </span>\n        );\n      }\n\n      return child;\n    },\n  },\n];\n\nconst EditableTable = ({\n  defaultData = [getInitialRowData()],\n  defaultEditingRowKey,\n}: EditableTableProps) => {\n  const [data, setData] = useState<Record[]>(defaultData);\n  const [editingRowKey, setEditingRowKey] = useState<string | null>(\n    defaultEditingRowKey === undefined ? defaultData[0].key : defaultEditingRowKey\n  );\n  const [deleteByCancel, setDeleteByCancel] = useState(false);\n\n  const addRow = (rowData: Record, insertIdx = 0) => {\n    setData((prevData) => {\n      const nextData = [...prevData];\n      nextData.splice(insertIdx, 0, rowData);\n\n      return nextData;\n    });\n    setEditingRowKey(rowData.key);\n    setDeleteByCancel(true);\n  };\n\n  const getRowSpan = useCallback(generateGetRowSpan(data), [data]);\n\n  return (\n    <AweEditableTable\n      columns={getColumns({ addRow, getRowSpan })}\n      dataSource={data}\n      editingRowKey={editingRowKey}\n      onEdit={(rowKey) => {\n        setEditingRowKey(rowKey);\n      }}\n      onCancel={() => {\n        if (deleteByCancel) {\n          setData((prevData) => {\n            const nextData = [...prevData];\n            const idx = nextData.findIndex((record) => record.key === editingRowKey);\n            if (idx > -1) {\n              nextData.splice(idx, 1);\n            }\n\n            return nextData;\n          });\n        }\n        setEditingRowKey(null);\n      }}\n      onSave={(__, data) => {\n        setData(data);\n        setEditingRowKey(null);\n        setDeleteByCancel(false);\n      }}\n      onDelete={(rowKey, data) => {\n        setData(data);\n        if (rowKey === editingRowKey) {\n          setEditingRowKey(null);\n        }\n      }}\n    />\n  );\n};\n\nexport default EditableTable;\n",mdxType:"Canvas"},Object(esm.mdx)(blocks.Story,{name:"Family Tree Table",args:{defaultData:[{key:"row-0.7680511899736875",mergeRowsKey:"row-0.7680511899736875",name:"Emma",age:22,child:"Fruit",gender:"F"},{key:"row-0.8981918115495107",mergeRowsKey:"row-0.3092834939272744",name:"Jerry",age:30,child:"Alice",gender:"M"},{key:"row-0.3092834939272744",mergeRowsKey:"row-0.3092834939272744",name:"Jerry",age:30,child:"Fruit",gender:"M"}],defaultEditingRowKey:"row-0.7680511899736875"},mdxType:"Story"},Table_stories_Template.bind({}))),Object(esm.mdx)("h2",{id:"props"},"Props"),Object(esm.mdx)(blocks.ArgsTable,{of:BaseEditableTable,mdxType:"ArgsTable"}),Object(esm.mdx)("h3",{id:"awecolumnprops"},"AweColumnProps"),Object(esm.mdx)("table",null,Object(esm.mdx)("thead",{parentName:"table"},Object(esm.mdx)("tr",{parentName:"thead"},Object(esm.mdx)("th",_extends({parentName:"tr"},{align:null}),"Name"),Object(esm.mdx)("th",_extends({parentName:"tr"},{align:null}),"Description"),Object(esm.mdx)("th",_extends({parentName:"tr"},{align:null}),"Default"))),Object(esm.mdx)("tbody",{parentName:"table"},Object(esm.mdx)("tr",{parentName:"tbody"},Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"editable"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"boolean"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"false")),Object(esm.mdx)("tr",{parentName:"tbody"},Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"editingId"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"string"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"-")),Object(esm.mdx)("tr",{parentName:"tbody"},Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"editingCtrl"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"React.ReactElement"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"-")),Object(esm.mdx)("tr",{parentName:"tbody"},Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"decorateOptions"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"GetDecorateOptions"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"-")),Object(esm.mdx)("tr",{parentName:"tbody"},Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"getDecorateOptions"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"(record: T, index: number) => GetDecorateOptions"),Object(esm.mdx)("td",_extends({parentName:"tr"},{align:null}),"-")))),Object(esm.mdx)("h2",{id:"concepts"},"Concepts"),Object(esm.mdx)("h3",{id:"controlled-component"},"Controlled Component"),Object(esm.mdx)("p",null,Object(esm.mdx)("inlineCode",{parentName:"p"},"EditableTable")," is a fully controlled component by design. It uses ",Object(esm.mdx)("inlineCode",{parentName:"p"},"dataSource")," prop to render rows, and fires ",Object(esm.mdx)("inlineCode",{parentName:"p"},"save, cancel, delete")," events to notify parent component to update data."),Object(esm.mdx)("h3",{id:"one-editing-row-at-once"},"One Editing Row at once"),Object(esm.mdx)("p",null,"only one row can be ",Object(esm.mdx)("inlineCode",{parentName:"p"},"editing")," state at once because:"),Object(esm.mdx)("ul",null,Object(esm.mdx)("li",{parentName:"ul"},"In a real-world, a user can't deal with multiple rows simultaneously."),Object(esm.mdx)("li",{parentName:"ul"},"To avoid complex logic implementations.")),Object(esm.mdx)("details",null,Object(esm.mdx)("summary",null,"简体中文"),Object(esm.mdx)("h2",{id:"概念"},"概念"),Object(esm.mdx)("h3",{id:"受控组件"},"受控组件"),Object(esm.mdx)("p",null,Object(esm.mdx)("inlineCode",{parentName:"p"},"EditableTable")," 被我们设计成一个受控组件。 它通过 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"dataSource")," API 来指定渲染用的数据源，在用户操作时触发 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"save, cancel, delete")," 事件来通知上层组件更新数据。"),Object(esm.mdx)("h3",{id:"同一时间只允许编辑一行数据"},"同一时间只允许编辑一行数据"),Object(esm.mdx)("p",null,"因为："),Object(esm.mdx)("ul",null,Object(esm.mdx)("li",{parentName:"ul"},"在实际情况中，用户是无法同时编辑多行数据的。"),Object(esm.mdx)("li",{parentName:"ul"},"为了避免增加复杂的实现逻辑。"))),Object(esm.mdx)("h2",{id:"usage"},"Usage"),Object(esm.mdx)("p",null,"First of all, we didn't export an ",Object(esm.mdx)("inlineCode",{parentName:"p"},"EditableTable")," component, instead, we provide a function to create it called ",Object(esm.mdx)("inlineCode",{parentName:"p"},"createEditableTable"),". You can import the function then do it yourself."),Object(esm.mdx)("details",null,Object(esm.mdx)("summary",null,"简体中文"),Object(esm.mdx)("h2",{id:"使用"},"使用"),Object(esm.mdx)("p",null,"首先，我们没有直接导出 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"EditableTable")," 组件，而是提供了一个 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"createEditableTable")," 方法用于创建它。你可以引入这个方法自己创建它。")),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import { createEditableTable } from '@galiojs/awesome-antd';\n\nconst EditableTable = createEditableTable();\n")),Object(esm.mdx)("p",null,"This function accepts an argument called ",Object(esm.mdx)("inlineCode",{parentName:"p"},"options")," which you can found docs ",Object(esm.mdx)("a",_extends({parentName:"p"},{href:"https://3x.ant.design/components/form-cn/#Form.create(options)",target:"_blank",rel:"nofollow noopener noreferrer"}),"here"),". But in most cases, you can omit ",Object(esm.mdx)("inlineCode",{parentName:"p"},"options"),"."),Object(esm.mdx)("p",null,"Then, use the created ",Object(esm.mdx)("inlineCode",{parentName:"p"},"EditableTable")," component."),Object(esm.mdx)("details",null,Object(esm.mdx)("summary",null,"简体中文"),Object(esm.mdx)("h2",{id:"使用-1"},"使用"),Object(esm.mdx)("p",null,"此方法接收一个 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"options")," 参数，文档可参考",Object(esm.mdx)("a",_extends({parentName:"p"},{href:"https://3x.ant.design/components/form-cn/#Form.create(options)",target:"_blank",rel:"nofollow noopener noreferrer"}),"这里"),"。不过大多数情况下，你不需要传入此参数。")),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"<EditableTable\n  columns={columns}\n  dataSource={data}\n  editingRowKey={editingRowKey}\n  onSave={saveHandler}\n  onCancel={cancelHandler}\n  onEdit={editHandler}\n  onDelete={deleteHandler}\n/>\n")),Object(esm.mdx)("p",null,"Here, you must give ",Object(esm.mdx)("inlineCode",{parentName:"p"},"EditableTable")," a ",Object(esm.mdx)("inlineCode",{parentName:"p"},"dataSource")," prop, and update your ",Object(esm.mdx)("inlineCode",{parentName:"p"},"data")," while ",Object(esm.mdx)("inlineCode",{parentName:"p"},"save, cancel, delete")," events fired. Also, you must provide an ",Object(esm.mdx)("inlineCode",{parentName:"p"},"editingRowKey")," prop, this prop indicates which row is being ",Object(esm.mdx)("inlineCode",{parentName:"p"},"editing")," state, and update it while ",Object(esm.mdx)("inlineCode",{parentName:"p"},"cancel, edit")," events fired."),Object(esm.mdx)("h3",{id:"how-to-merge-rows"},"How to merge rows?"),Object(esm.mdx)("p",null,"You should implement it yourself, and we provided you a util function(",Object(esm.mdx)("inlineCode",{parentName:"p"},"generateGetRowSpan"),") to help you get through this."),Object(esm.mdx)("details",null,Object(esm.mdx)("summary",null,"简体中文"),Object(esm.mdx)("p",null,"除了实现数据源的受控外，你还需要传入一个 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"editingRowKey")," 属性，这个属性用来指定处于编辑状态的行数据，并且你需要监听 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"cancel, edit")," 事件来更新这个属性。"),Object(esm.mdx)("h3",{id:"如何合并行？"},"如何合并行？"),Object(esm.mdx)("p",null,"你需要自己实现合并行的逻辑代码，我们也提供了一个工具方法（",Object(esm.mdx)("inlineCode",{parentName:"p"},"generateGetRowSpan"),"）可以帮助你实现合并行的逻辑。")),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import { generateGetRowSpan } from '@galiojs/awesome-antd/es/table/utils';\n\nconst getRowSpan = generateGetRowSpan(data);\nconst rowSpan = getRowSpan(rowData, rowIndex);\n")),Object(esm.mdx)("p",null,"By default, this function expects every row data has a property ",Object(esm.mdx)("inlineCode",{parentName:"p"},"mergeRowsKey"),", and continuous rows that have the same ",Object(esm.mdx)("inlineCode",{parentName:"p"},"mergeRowsKey")," will be considered merged into one row. Only the 1st-row data will be rendered if cells were merged."),Object(esm.mdx)("p",null,"If your row data has another property to use to merge rows, you can specify it like this:"),Object(esm.mdx)("details",null,Object(esm.mdx)("summary",null,"简体中文"),Object(esm.mdx)("p",null,"默认情况下，这个方法期望每行数据中都存在一个属性：",Object(esm.mdx)("inlineCode",{parentName:"p"},"mergeRowsKey"),"，连续的多行数据中具备相同 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"mergeRowsKey")," 属性值时，这些行将被合并成一行，被合并的单元格将会使用第一行数据渲染。"),Object(esm.mdx)("p",null,"如果你期望使用行数据中的其他属性来合并行，你可以这么指定：")),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"const getRowSpan = generateGetRowSpan(data, { mergeProp: 'some-prop-name' });\n")),Object(esm.mdx)("h3",{id:"how-to-validate-based-on-the-other-form-items"},"How to validate based on the other form items?"),Object(esm.mdx)("p",null,"Use ",Object(esm.mdx)("inlineCode",{parentName:"p"},"Customized Validation Rules")," to solve this edge case. A ",Object(esm.mdx)("inlineCode",{parentName:"p"},"validator")," function provided the 4th param called ",Object(esm.mdx)("inlineCode",{parentName:"p"},"source")," that includes all the field values."),Object(esm.mdx)("details",null,Object(esm.mdx)("summary",null,"简体中文"),Object(esm.mdx)("h3",{id:"如何基于其他表单项来执行表单项校验？"},"如何基于其他表单项来执行表单项校验？"),Object(esm.mdx)("p",null,"使用 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"自定义校验规则")," 来解决这个问题。一个 ",Object(esm.mdx)("inlineCode",{parentName:"p"},"validator")," 方法提供了第 4 个参数：",Object(esm.mdx)("inlineCode",{parentName:"p"},"source"),"，这个参数包含了当前所有的表单项的值。")),Object(esm.mdx)("pre",null,Object(esm.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"const passwordValidator = (_rule, password, callback, { username }) => {\n  if (!username) {\n    callback(`User name can't be blank!`);\n    return;\n  }\n  if (!password) {\n    callback(`Password can't be blank!`);\n    return;\n  }\n  callback();\n};\n\nconst columns = [\n  {\n    title: 'User Name',\n    dataIndex: 'username',\n    editable: true,\n    editingCtrl: <input />,\n  },\n  {\n    title: 'Password',\n    dataIndex: 'password',\n    editable: true,\n    editingCtrl: <input />,\n    decorateOptions: {\n      rules: [{ validator: passwordValidator }],\n    },\n  },\n];\n")))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var familyTreeTable=Table_stories_Template.bind({});familyTreeTable.storyName="Family Tree Table",familyTreeTable.args={defaultData:[{key:"row-0.7680511899736875",mergeRowsKey:"row-0.7680511899736875",name:"Emma",age:22,child:"Fruit",gender:"F"},{key:"row-0.8981918115495107",mergeRowsKey:"row-0.3092834939272744",name:"Jerry",age:30,child:"Alice",gender:"M"},{key:"row-0.3092834939272744",mergeRowsKey:"row-0.3092834939272744",name:"Jerry",age:30,child:"Fruit",gender:"M"}],defaultEditingRowKey:"row-0.7680511899736875"},familyTreeTable.parameters={storySource:{source:"args => <EditableTable {...args} />"}};var componentMeta={title:"Example/EditableTable",component:stories_EditableTable,includeStories:["familyTreeTable"]},mdxStoryNameToKey={"Family Tree Table":"familyTreeTable"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.mdx)(blocks.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(esm.mdx)(MDXContent,null))}});__webpack_exports__.default=componentMeta},881:function(module){module.exports=JSON.parse('{"name":"@galiojs/awesome-antd","version":"0.1.10","main":"es/index.js","license":"MIT","dependencies":{"@babel/core":"7.9.0","@babel/runtime":"7.11.2","@svgr/webpack":"4.3.3","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.0.4","@testing-library/user-event":"^12.1.4","@types/jest":"^26.0.13","@types/lodash.debounce":"^4.0.6","@types/lodash.get":"^4.4.6","@types/lodash.omit":"^4.5.6","@types/node":"^12.0.0","@types/react":"^16.9.0","@types/react-dom":"^16.9.0","@types/shallowequal":"^1.1.1","@typescript-eslint/eslint-plugin":"^2.10.0","@typescript-eslint/parser":"^2.10.0","antd":"3.x","axios":"^0.20.0","babel-eslint":"10.1.0","babel-jest":"^26.3.0","babel-loader":"8.1.0","babel-plugin-named-asset-import":"^0.3.6","babel-preset-react-app":"^9.1.2","camelcase":"^5.3.1","case-sensitive-paths-webpack-plugin":"2.3.0","css-loader":"3.4.2","dotenv":"8.2.0","dotenv-expand":"5.1.0","eslint":"^6.6.0","eslint-config-react-app":"^5.2.1","eslint-loader":"3.0.3","eslint-plugin-flowtype":"4.6.0","eslint-plugin-import":"2.20.1","eslint-plugin-jsx-a11y":"6.2.3","eslint-plugin-react":"7.19.0","eslint-plugin-react-hooks":"^1.6.1","file-loader":"4.3.0","fs-extra":"^8.1.0","html-webpack-plugin":"4.0.0-beta.11","identity-obj-proxy":"3.0.0","jest":"26.4.2","jest-environment-jsdom-fourteen":"1.0.1","jest-resolve":"24.9.0","jest-watch-typeahead":"0.4.2","lodash.debounce":"^4.0.8","lodash.get":"^4.4.2","lodash.omit":"^4.5.0","mini-css-extract-plugin":"0.9.0","optimize-css-assets-webpack-plugin":"5.0.3","pnp-webpack-plugin":"1.6.4","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"8.0.1","postcss-preset-env":"6.7.0","postcss-safe-parser":"4.0.1","react":"^16.13.1","react-app-polyfill":"^1.0.6","react-dev-utils":"^10.2.1","react-dom":"^16.13.1","resolve":"1.15.0","resolve-url-loader":"3.1.1","sass-loader":"8.0.2","semver":"6.3.0","shallowequal":"^1.1.0","style-loader":"0.23.1","terser-webpack-plugin":"2.3.8","ts-pnp":"1.1.6","typescript":"~3.7.2","url-loader":"2.3.0","webpack":"4.42.0","webpack-dev-server":"3.11.0","webpack-manifest-plugin":"2.2.0","workbox-webpack-plugin":"4.3.1"},"peerDependencies":{"antd":"3.x","react":"16.x"},"scripts":{"test":"node scripts/test.js","test:no-watch":"npm test -- --watchAll=false","compile":"BABEL_ENV=production gulp compile","storybook":"start-storybook -p 6006","build-storybook":"build-storybook -o docs"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@storybook/addon-actions":"^6.1.10","@storybook/addon-essentials":"^6.1.10","@storybook/addon-links":"^6.1.10","@storybook/react":"^6.1.10","gulp":"4.x","gulp-babel":"^8.0.0","gulp-typescript":"^6.0.0-alpha.1","merge2":"^1.4.1","raw-loader":"^4.0.2","rimraf":"^3.0.2"},"jest":{"roots":["<rootDir>/src"],"collectCoverageFrom":["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],"setupFiles":["react-app-polyfill/jsdom"],"setupFilesAfterEnv":["./src/setupTests.ts"],"testMatch":["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],"testEnvironment":"jest-environment-jsdom-fourteen","transform":{"^.+\\\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},"transformIgnorePatterns":["[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|ts|tsx)$","^.+\\\\.module\\\\.(css|sass|scss)$"],"modulePaths":[],"moduleNameMapper":{"^react-native$":"react-native-web","^.+\\\\.module\\\\.(css|sass|scss)$":"identity-obj-proxy"},"moduleFileExtensions":["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],"watchPlugins":["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},"babel":{"presets":["react-app"]}}')},894:function(module,exports,__webpack_require__){__webpack_require__(895),__webpack_require__(1195),__webpack_require__(1196),__webpack_require__(1396),__webpack_require__(1690),__webpack_require__(1723),__webpack_require__(1728),__webpack_require__(1740),__webpack_require__(1742),__webpack_require__(1747),__webpack_require__(1749),module.exports=__webpack_require__(1753)}},[[894,1,2]]]);
//# sourceMappingURL=main.ff5c1962d99d97d17ce0.bundle.js.map